<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>마일리지 관리 프로그램</title>

    <style>
        * {
            margin: 0 auto;
            list-style: none;
        }
        h3{
            margin: 30px;
        }
        #main {
            width: 500px;
            text-align: center;
            margin: 80px;
        }
        table {
            padding: 10px;
        }
        form{
            border: 1px solid;
            padding: 10px;
        }
        .btn1{
            width: 20pt;
            height: 20pt;
            background-color: light-gray;
            border: none;
        }
    </style>

</head>

<body>
    <div id="main">
        <h3>Mileage Point</h3>

        <form name="frm1" method="post" action="frmAction">
            <table>
                <tr>
                    <td>구입금액</td>
                    <td><input type="text" name="Mileage" size="15" readonly></td>
                    <td><input type="button" value="금액 설정" onclick="randomMoney()"></td>
                </tr>
                <tr>
                    <td>전화번호</td>
                    <td><input type="tel" name="phone[0]" id="phone"
                        pattern="[0-9]{2,3}-[0-9]{3,4}-[0-9]{3,4}" maxlength="13"
                        size="15">
                    </td>
                </tr>
                </table><br>
            <div id="kpad">
                    <input type="button" class="btn1" value="1" name="1" onclick="insRow()">
                    <input type="button" class="btn1" value="2" name="1">
                    <input type="button" class="btn1" value="3" name="1">
                    <input type="button" class="btn1" value="4" name="1">
                    <input type="button" class="btn1" value="5" name="1">
                    <input type="button" class="btn1" value="6" name="1">
                    <input type="button" class="btn1" value="7" name="1">
                    <input type="button" class="btn1" value="8" name="1">
                    <input type="button" class="btn1" value="9" name="1">
                    <input type="button" class="btn1" value="0" name="1">
                    <input type="button" class="btn1" value="X">
                    <input type="button" class="btn1" value="C">
            </div>
        </form>

    </div>

</body>

<script>
    let mileage = 0;

    function randomMoney() {
        const randomMileage = (Math.floor(Math.random() * 100) + 1) *1000;
        mileage = randomMileage;
        document.querySelector("[name='Mileage'").value = mileage;
    }

    var patt = new RegExp("[0-9]{2,3}"-"[0-9]{3,4}"-"[0-9]{3,4}");

    $("#tlno").keyup(function(event){
        var inputVal = $(this).val();
        $(this).val(inputVal.replace(/[^0-9]/gi,''));
    });
   
   
        var oTbl;
        var i = 0;
        var count = 1;
            
        function insRow() {
            
        i++;
        count++;
            
        oTbl = document.getElementById("addTable");
        var oRow = oTbl.insertRow();
        oRow.onmouseover=function(){oTbl.clickedRowIndex=this.rowIndex};
            
        var oCell = oRow.insertCell();
        var frmTag = "<input type='text' name='addText["+i+"]'>";

        frmTag += "<input type=button value='삭제' onClick='removeRow()' style='cursor:hand'>";
        frmTag += "<input type='hidden' name='count' value='"+count+"'>";
        oCell.innerHTML = frmTag;
        }

        function removeRow() {
        oTbl.deleteRow(oTbl.clickedRowIndex);
        }


</script>

</html>